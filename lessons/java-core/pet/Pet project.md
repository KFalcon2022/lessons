# Система распределения места в общежитиях

Идея крупного пет-проекта существовала давно и время от времени на нее возникал запрос от участников канала. Кажется,
пришло время предложить такой пет-проект. На данный момент нам вполне хватает знаний, чтобы подобный проект реализовать.

На мой взгляд, более-менее правильная реализация данного проекта позволит добавлять в него новые возможности по мере
изучения новых тем. В данном случае я говорю о подключении БД и реализации данного проекта в виде клиент-серверного
приложения. Пока же проект предполагает работу через консоль и хранение данных в файлах.

Прежде чем приступите к чтению ТЗ: требования будут расширяться и дополняться по вашим вопросам/запросам. Написать
полное и корректное ТЗ даже для небольшого (как этот) проекта - задача нелегкая. Поэтому чем больше вопросов вы
зададите, тем точнее и понятнее будет описана ожидаемая функциональность проекта.

![img.png](petProject.png)

## Требования

Реализуйте систему распределения мест в студенческих общежитиях.

Предусмотрите возможность:

1. [CRUD](https://ru.wikipedia.org/wiki/CRUD) для пользователей системы;
2. Ролевую модель пользователей, включая изменение прав для пользователей;
3. Разграничение доступа к данным для пользователей с различными ролями:
    - доступ ко всем данным _системы_;
    - доступ в рамках одного _университета_;
    - доступ в рамках одного _общежития_.
4. Авторизацию пользователей;
5. CRUD для сущностей _«университет»_, _«общежитие»_, _«комната»_, _«студент»_, включая реализацию реестров (просмотра
   списком) для этих сущностей;
6. Фильтрацию и сортировку данных. Учитывайте ограничения доступа в рамках роли при реализации;
7. Заселения и выселения студентов в (из) общежитие (-я), изменение плана заселения. Учитывайте принадлежность студентов
   и общежитий к различным университетам. Также учитывайте половую принадлежность студентов – в одной комнате могут жить
   студенты только одного пола;
8. Сбор статистики о количестве свободных мест в общежитиях, а также о количестве студентов, проживающих и не
   проживающих в общежитиях для каждого университета;
9. Актуализацию данных – студенты, окончившие обучение или отчисленные из университета, должны удаляться из системы как
   автоматически, так и по запросу пользователя. Учитывайте, что разные университеты могут иметь разную
   продолжительность обучения;
10. Хранение и актуализацию данных в файлах. 1 сущность – 1 файл;
11. Хранение данных пользователя в защищенном виде: хранение пароля допустимо только в виде хэша;
12. Валидация данных. Например, в комнате не может проживать больше людей, чем указано в ее максимальной вместимости;
13. Интерактивное консольное меню;
14. Генератор данных. Предусмотрите возможность создавать случайных студентов и комнаты общежития на основании
    предопределенного набора параметров. Генерация данных для остальных сущностей – на ваше усмотрение;
15. Логируйте действия пользователей. Лог должен быть записан в отдельный файл.

## Модель данных

Вы можете создавать любые сущности с любым набором полей. Ниже представлены рекомендованные наборы полей для каждой
сущности.

### Пользователь

1. ID
2. Логин
3. Хэш пароля
4. Роль
5. ФИО

### Университет

1. ID
2. Название
3. Длительность обучения

### Общежитие

1. ID
2. Номер
3. Количество комнат
4. Университет
5. Доступность для проживания

### Комната

1. ID
2. Номер
3. Общежитие
4. Вместимость
5. Доступность для проживания
6. Пол проживающих

### Студент

1. ID
2. ФИО
3. Пол
4. Университет
5. Общежитие
6. Комната
7. Год поступления
8. Дата отчисления
9. Проживает ли в общежитии

## Рекомендации по реализации

1. Декомпозируйте задачи. Проект не рассчитан на реализацию за вечер. Разбейте реализацию на подзадачи и выполняйте их;
2. Спроектируйте архитектуру вашего приложения заранее. Продумайте, какие основные пакеты и классы должны быть в вашем
   приложении, за что они должны отвечать. Некоторые примеры организации классов и их зон ответственности можно
   подсмотреть в [разборе](https://github.com/KFalcon2022/practical-tasks) крупных задач из практики;
3. Минимизируйте работу с файлами. Вполне допустимо, если чтение из файлов будет происходить при запуске программы/при
   первом обращении к данным, а запись – по завершению работы программы;
4. Помните, что пишете на Java, а Java – объектно-ориентированный язык. Многие вещи реализовать проще, если помнить о
   принципах ООП и паттернах проектирования. С последними мы, к сожалению, еще слабо знакомы;
5. Уточняйте модель данных. Как минимум один нюанс сейчас опущен осознанно, ряд других, вероятно, упущены из-за
   невнимательности автора;
6. Не стесняйтесь задавать вообще любые вопросы и уточнять непонятные/опущенные в описании нюансы. Требования к проекту
   будут дополняться и уточняться по мере поступления вопросов;
7. Вы так или иначе столкнетесь с необходимостью хранить информацию о том, какой пользователь ведет работу в системе в
   данный момент. Поскольку на данном этапе приложение однопоточное и мы не знакомы с более удобными инструментами для
   хранения данных активного пользователя - предлагаю задействовать под это отдельный класс-контекст, хранящий активного
   пользователя;
8. Ознакомьтесь с возможностями ветвления в _git_, а также слиянием веток (на данном этапе рекомендую _merge_).
   Выполняйте подзадачи (см. п.1) в отдельных ветках, которые потом вливайте в основную. Данные инструменты работы с
   _git_ еще не были затронуты в канале, но они могут облегчить написание вашего приложения уже сегодня. Как минимум,
   вам будет сложнее что-то безвозвратно сломать;
9. В целом, советую завести репозиторий на гитхабе для данного проекта и не стесняться добавлять меня в PR на этапе
   вливания новой подзадачи в основную ветку. Ревью - хороший источник роста для начинающих специалистов. А чем мельче
   PR, тем пристальнее ревью. Ревью готового проекта куда менее ценно, чем ревью подзадач.

P.s. Если есть техпис или бизнес-аналитик, который готов помочь оформить требования к пет-проекту более качественно –
пишите в ЛС.

> Канал: https://t.me/ViamSupervadetVadens
>
> Мой тг: https://t.me/ironicMotherfucker
>
> **Дорогу осилит идущий!**